[
    {
        "id": "liora",
        "name": "Liora",
        "background": "A former scholar wandering to collect rare herbs. Always curious about strange flames.",
        "defaultPortrait": "liora_default",
        "gold": 20,
        "scriptedVisitsAllowed": true,
        "scheduledVisitsAllowed": true,
        "randomVisitsAllowed": true,
        "visits": [
            {
                "type": "scripted",
                "visitFireRequired": ["strongClean", "weakClean"],
                "visitRequiredTags": [],
                "minDay": 0,
                "maxDay": 0,
                "triggers": [
                    {
                        "event": "VISIT_APPEARS",
                        "effect": {
                            "type": "printDialogue",
                            "args": {
                                "text": "Liora feels the fire shift..."
                            }
                        }
                    }
                ],
                "dialogue": [
                    "Ah… this fire is clean. Rare, these days.",
                    "I could sit here for hours, just watching it breathe."
                ],
                "sells": [{
                        "item": "herbs"
                    }],
                "buys": [],
                "goldChange": 0,
                "tagsToAdd": [
                    {
                        "name": "lioraVisit1"
                    }
                ]  
            },
            {
                "type": "scripted",
                "visitFireRequired": ["strongTainted"],
                "visitRequiredTags": ["lioraVisit1"],
                "minDay": 0,
                "maxDay": 0,
                "dialogue": [
                    "This scent… something clings to the flames.",
                    "I have something for you. Don’t ask where it came from."
                ],
                "sells": [{
                        "item": "mysticScroll",
                        "rarity": "rare"
                    }],
                "buys": [{
                        "item": "silkCloth"
                    }],
                "goldChange": 0
            }
        ]
    },
    {
        "id": "thorn",
        "name": "Thorn",
        "background": "Ex-mercenary, gruff but has a soft spot for pets and old relics.",
        "defaultPortrait": "thorn_default",
        "gold": 15,
        "scriptedVisitsAllowed": true,
        "scheduledVisitsAllowed": true,
        "randomVisitsAllowed": true,
        "visits": [
            {
                "type": "random",
                "visitFireRequired": ["strongTainted", "weakClean"],
                "visitRequiredTags": [],
                "minDay": 0,
                "maxDay": 0,
                "dialogue": [
                    "Hmph. Fire’s decent.",
                    "Had worse camps. Had better too."
                ],
                "sells": [{
                        "item": "ironOre"
                    }],
                "buys": [{
                        "item": "herbs"
                    }],
                "goldChange": 0
            },
            {
                "type": "scripted",
                "visitFireRequired": ["strongClean"],
                "visitRequiredTags": ["thornVisit1"],
                "minDay": 0,
                "maxDay": 0,
                "dialogue": [
                    "Clean fire. Brings back memories.",
                    "Not all of them good."
                ],
                "sells": [],
                "buys": [],
                "goldChange": 0
            }
        ]
    },
    {
        "id": "john_the_witch",
        "name": "John the Witch",
        "background": "A mysterious witch who only trusts clean weak fires and brings strange magical gifts.",
        "defaultPortrait": "john_default",
        "gold": 30,
        "scriptedVisitsAllowed": true,
        "scheduledVisitsAllowed": true,
        "randomVisitsAllowed": true,
        "visits": [
            {
                "type": "scripted",
                "visitFireRequired": ["weakClean"],
                "visitRequiredTags": [],
                "minDay": 0,
                "maxDay": 0,
                "dialogue": [
                    "Good. The fire listens.",
                    "Most fires scream."
                ],
                "sells": [{
                        "item": "ancientTalisman",
                        "rarity": "rare"
                    }],
                "buys": [],
                "goldChange": 0
            },
            {
                "type": "scripted",
                "visitFireRequired": ["strongTainted"],
                "visitRequiredTags": ["witchVisit1"],
                "minDay": 0,
                "maxDay": 0,
                "dialogue": [
                    "Ah. Now it lies.",
                    "Still useful, though."
                ],
                "sells": [{
                        "item": "mysticScroll",
                        "rarity": "ultra_rare"
                    }],
                "buys": [{
                        "item": "ancientTalisman"
                    }],
                "goldChange": 0
            }
        ]
    },
    {
        "id": "mara",
        "name": "Mara",
        "background": "A wandering trader, she loves exotic goods and cozy fires.",
        "defaultPortrait": "mara_default",
        "gold": 40,
        "scriptedVisitsAllowed": true,
        "scheduledVisitsAllowed": true,
        "randomVisitsAllowed": true,
        "visits": [
            {
                "type": "random",
                "visitFireRequired": ["weakClean", "strongClean"],
                "visitRequiredTags": [],
                "minDay": 0,
                "maxDay": 0,
                "dialogue": [
                    "Oh, this is nice.",
                    "I could sell here."
                ],
                "sells": [{
                        "item": "silkCloth"
                    }],
                "buys": [{
                        "item": "herbs"
                    }],
                "goldChange": 0
            },
            {
                "type": "random",
                "visitFireRequired": ["strongTainted"],
                "visitRequiredTags": ["maraVisit1"],
                "minDay": 0,
                "maxDay": 0,
                "dialogue": [
                    "Oh wow. That fire’s… exciting.",
                    "Let’s make this interesting."
                ],
                "sells": [
                    {
                        "item": "ancientTalisman",
                        "rarity": "rare"
                    },
                    {
                        "item": "mysticScroll",
                        "rarity": "rare"
                    }
                ],
                "buys": [{
                        "item": "silkCloth"
                    }],
                "goldChange": 0
            }
        ]
    },
    {
        "id": "ziphra",
        "name": "Ziphra",
        "background": "A nun in the Sisterhood Of the Flame Mother. She comes regularly to sell fuel to feed the 'child'",
        "allowScriptedVisits": false,
        "allowScheduledVisits": true,
        "allowRandomVisits": false,
        "defaultPortrait": "Zyphra",
        "visits": [
            {
                "type": "scheduled",
                "timerStartFireRequired": [],
                "timerStartTags": [],
                "visitFireRequired": [],
                "visitRequiredTags": [],
                "delayMinDays": 2,
                "delayMaxDays": 4,
                "dialogue": [
                    "You keep the child alive and well fed and they will behave.",
                    "Fuel is harder to find each season. I sell what I can spare."
                ],
                "sellFood": 0,
                "sellFuel": 3,
                "buyFood": 0,
                "buyFuel": 0
            }
        ]
    },
    {
        "id": "cinder_bram",
        "name": "Cinder Bram",
        "background": "Once a sapper in the old wars. Now he drags a half-dead bomb through the ashlands, feeding it fuel so it won’t wake up hungry.",
        "defaultPortrait": "bomber",
        "gold": 18,
        "scriptedVisitsAllowed": false,
        "scheduledVisitsAllowed": false,
        "randomVisitsAllowed": true,
        "visits": [
            {
                "type": "random",
                "visitFireRequired": ["strongClean", "weakClean"],
                "visitRequiredTags": [],
                "minDay": 0,
                "maxDay": 0,
                "dialogue": [
                    "Don’t get close to it.",
                    "It listens when it’s warm.",
                    "Fuel keeps it dreaming."
                ],
                "buyFuel": 2,
                "exhaustionText": {
                    "BUY_FUEL": "He presses a hand against the bomb’s cracked shell and exhales. \"Enough. It’s sleeping. Pray it stays that way.\""
                },
                "goldChange": 0
            },
            {
                "type": "random",
                "visitFireRequired": ["strongTainted"],
                "visitRequiredTags": [],
                "minDay": 0,
                "maxDay": 0,
                "dialogue": [
                    "This fire smells wrong.",
                    "If it wakes… we won’t hear it scream."
                ],
                "buyFuel": 1,
                "goldChange": 0
            }
        ]
    },
    {
        "id": "ragged_merchant",
        "name": "Ragged Merchant",
        "background": "A gaunt trader who walks from ruin to ruin with sacks of grain. Every visit costs him something he cannot replace.",
        "defaultPortrait": "ragged_merchant_default",
        "gold": 60,
        "allowScriptedVisits": false,
        "allowScheduledVisits": true,
        "allowRandomVisits": false,
        "visits": [
            {
                "type": "scheduled",
                "timerStartFireRequired": ["strongClean", "strongTainted"],
                "timerStartTags": [],
                "visitFireRequired": ["strongClean", "strongTainted"],
                "visitRequiredTags": [],
                "delayMinDays": 1,
                "delayMaxDays": 2,
                "dialogue": [
                    "I paid for this food with days of my life.",
                    "If you can burn it… then you can afford it.",
                    "Don’t ask what it cost me to carry it this far."
                ],
                "sellFood": 25,
                "pricing": {
                    "sellFoodMin": 6,
                    "sellFoodMax": 8
                }
            },
            {
                "type": "scheduled",
                "timerStartFireRequired": ["strongClean", "strongTainted"],
                "timerStartTags": [],
                "visitFireRequired": ["strongClean", "strongTainted"],
                "visitRequiredTags": [],
                "delayMinDays": 5,
                "delayMaxDays": 10,
                "dialogue": [
                    "This is all I have left.",
                    "I barely made it here. Another night on the road and I wouldn’t.",
                    "Take it. Or I starve with it."
                ],
                "sellFood": 10,
                "pricing": {
                    "sellFoodMin": 9,
                    "sellFoodMax": 12
                }
            }
        ]
    },
    {
        "id": "ember_wretch",
        "name": "Ember Wretch",
        "background": "A hollow-eyed survivor who claims the fire noticed him first. He comes once in terror, then only when it remembers you.",
        "defaultPortrait": "ember_wretch_default",
        "gold": 5,
        "scriptedVisitsAllowed": true,
        "scheduledVisitsAllowed": false,
        "randomVisitsAllowed": true,
        "visits": [
            {
                "type": "scripted",
                "visitFireRequired": [],
                "visitRequiredTags": [],
                "minDay": 0,
                "maxDay": 0,
                "dialogue": [
                    "It’s wrong that it burns this steady.",
                    "It watched me before I watched it.",
                    "If I don’t leave something behind… it follows."
                ],
                "sellFood": 1,
                "tagsToAdd": [{
                        "name": "emberWretchSeen"
                    }]
            },
            {
                "type": "random",
                "visitFireRequired": [],
                "visitRequiredTags": ["emberWretchSeen"],
                "minDay": 1,
                "dialogue": [
                    "You felt it too, didn’t you?",
                    "That pause in the flame.",
                    "It remembers places where it was fed."
                ],
                "sellFood": 1
            },
            {
                "type": "scripted",
                "visitFireRequired": [],
                "visitRequiredTags": [],
                "minDay": 2,
                "maxDay": 2,
                "dialogue": [
                    "I shouldn’t stay long. It notices patterns.",
                    "If I return tomorrow, it means the mark is still on me.",
                    "If not… then it finally let go."
                ],
                "tagsToAdd": [{
                        "name": "emberWretchMark",
                        "days": 1
                    }]
            },
            {
                "type": "scripted",
                "visitFireRequired": [],
                "visitRequiredTags": ["emberWretchMark"],
                "minDay": 3,
                "maxDay": 3,
                "dialogue": [
                    "You see? It didn’t fade.",
                    "I tried to sleep. The flame kept breathing in my dreams.",
                    "If it’s still here tomorrow, I won’t come back."
                ],
                "buyFuel": 1
            },
            {
                "type": "scripted",
                "visitFireRequired": [],
                "visitRequiredTags": [],
                "excludedTags": ["emberWretchMark"],
                "minDay": 4,
                "maxDay": 4,
                "dialogue": [
                    "It’s gone.",
                    "For the first time in weeks I slept without hearing the crackling.",
                    "Maybe it chose someone else to remember."
                ],
                "buyFood": 12
            }
        ]
    }
]